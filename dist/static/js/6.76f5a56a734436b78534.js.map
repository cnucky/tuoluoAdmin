{"version":3,"sources":["webpack:///src/views/itCenter/vpn.vue","webpack:///./src/views/itCenter/vpn.vue?78c6","webpack:///./src/views/itCenter/vpn.vue"],"names":["vpn","data","tableData","total","pageSize","currentPage","dialogFormVisible","form","name","ip","band","modalTitle","modalRules","required","message","trigger","mounted","this","getVpnListData","methods","addVpn","_this","param","page","page_size","Object","api","then","res","results","count","handleCurrentChange","val","console","log","submitForm","formName","_this2","$refs","validate","valid","reqData","vpn_host","$message","success","itCenter_vpn","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","_v","staticStyle","width","border","prop","label","scopedSlots","_u","key","fn","scope","_s","row","current-page","page-sizes","page-size","layout","current-change","title","visible","update:visible","$event","ref","model","label-width","rules","auto-complete","value","callback","$$v","$set","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.76f5a56a734436b78534.js","sourcesContent":["<template>\n    <div>\n        <div class=\"btns\">\n            <el-button type=\"success\" @click=\"addVpn\">添加线路</el-button>\n        </div>\n        <el-table :data=\"tableData\" border style=\"width: 100%\">\n            <el-table-column prop=\"id\" label=\"ID\" width=\"160px\"></el-table-column>\n            <el-table-column prop=\"ip\" label=\"IP\"></el-table-column>\n            <el-table-column prop=\"tun_port\" label=\"端口\"></el-table-column>\n            <el-table-column label=\"带宽\">\n                <template slot-scope=\"scope\">\n                    {{scope.row.band}}M\n                </template>\n            </el-table-column>\n           \n        </el-table>\n        <!-- 分页 -->\n        <div class=\"block\">\n            <el-pagination @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[20]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n            </el-pagination>\n        </div>\n\n        <!--添加线路-->\n        <el-dialog :title=\"modalTitle\" :visible.sync=\"dialogFormVisible\"  width=\"500px\">\n            <el-form :model=\"form\" label-width=\"100px\" :rules=\"modalRules\" ref=\"form\">\n                <el-form-item label=\"线路名称\" prop=\"name\">\n                    <el-input v-model=\"form.name\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"线路ip\" prop=\"ip\">\n                    <el-input v-model=\"form.ip\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"带宽大小\" prop=\"band\">\n                    <el-input v-model=\"form.band\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n\n                \n                <el-form-item class=\"modal_footer\">\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"submitForm('form')\">确 定</el-button>\n                </el-form-item>\n            </el-form>\n            \n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\nimport{getVpnList,addVpn} from '@/api/api'\n\nexport default {\n    data(){\n        return{\n            tableData:[],\n            total:0,\n            pageSize: 20,\n            currentPage: 1,\n            dialogFormVisible: false,\n            form:{\n                name:'',\n                ip:'',\n                band:''\n            },\n            modalTitle: '添加线路',\n            modalRules:{\n                name:[\n                    { required: true, message: '请输入线路名称', trigger: 'blur' }\n                ],\n                ip:[\n                    { required: true, message: '请输入线路ip', trigger: 'blur' }\n                ],\n                band:[\n                    { required: true, message: '请输入带宽', trigger: 'blur' }\n                ]\n            }\n        }\n    },\n    mounted(){\n        this.getVpnListData();\n    },\n    methods:{\n       \n        addVpn(){\n            this.dialogFormVisible = true;\n            this.form.name = '';\n            this.form.ip = '';\n            this.form.band = '';\n        },\n        getVpnListData(){\n            const param = {\n                page: this.currentPage,\n                page_size: this.pageSize\n            }\n            getVpnList(param).then(\n                res => {\n                    this.tableData = res.results;\n                    this.total = res.count;\n                }\n            )\n        },\n        handleCurrentChange(val){\n            console.log(`当前页: ${val}`);\n            this.currentPage = val;\n            this.getVpnListData();\n        },\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n            if (valid) {\n                const reqData = this.form;\n                addVpn(reqData).then(\n                    res =>{\n                        if(res && !!res.vpn_host){\n                            this.$message.success('添加成功');\n                            this.dialogFormVisible = false;\n                            this.getVpnListData();\n                        }else {\n                            this.$message.success('添加失败');\n                        }\n                        \n                    }\n                )\n            } else {\n                console.log('error submit!!');\n                return false;\n            }\n            });\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.btns{\n    text-align: left;\n    margin:0 0 20px 0;\n}\n.modal_footer{\n    text-align: right;\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/itCenter/vpn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.addVpn}},[_vm._v(\"添加线路\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"160px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ip\",\"label\":\"IP\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tun_port\",\"label\":\"端口\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"带宽\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(scope.row.band)+\"M\\n            \")]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.modalTitle,\"visible\":_vm.dialogFormVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\",\"rules\":_vm.modalRules}},[_c('el-form-item',{attrs:{\"label\":\"线路名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"线路ip\",\"prop\":\"ip\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.ip),callback:function ($$v) {_vm.$set(_vm.form, \"ip\", $$v)},expression:\"form.ip\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"带宽大小\",\"prop\":\"band\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.band),callback:function ($$v) {_vm.$set(_vm.form, \"band\", $$v)},expression:\"form.band\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"modal_footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('form')}}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54377710\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/itCenter/vpn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54377710\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vpn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./vpn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./vpn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54377710\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./vpn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54377710\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/itCenter/vpn.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}